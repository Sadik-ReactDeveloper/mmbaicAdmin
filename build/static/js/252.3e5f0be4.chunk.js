(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[252],{2475:function(e,a,t){"use strict";t.r(a);var n=t(31),l=t(48),r=t(1),c=t.n(r),o=(t(865),t(820)),u=t(818),i=t(819),s=t(823),m=t(841),d=t(848),v=t(839),p=t(808),g=t(835),E=t(196),f=(t(22),t(188)),b=t(977),h=t.n(b),O=t(63),j=t(840),S=t.n(j),y=(t(955),t(1094),[]);a.default=function(){var e=Object(r.useState)(null),a=Object(l.a)(e,2),t=(a[0],a[1]),b=Object(r.useState)(null),j=Object(l.a)(b,2),N=(j[0],j[1]),w=Object(r.useState)(null),C=Object(l.a)(w,2),x=C[0],D=C[1],q=Object(r.useState)(null),_=Object(l.a)(q,2),R=(_[0],_[1]),F=Object(r.useState)(""),A=Object(l.a)(F,2),P=A[0],k=A[1],U=Object(r.useState)([]),J=Object(l.a)(U,2),L=J[0],M=J[1],V=Object(r.useState)([]),Y=Object(l.a)(V,2),I=Y[0],z=Y[1],B=Object(r.useState)([]),K=Object(l.a)(B,2),T=K[0],G=K[1],H=Object(r.useState)(""),Q=Object(l.a)(H,2),W=(Q[0],Q[1],Object(r.useState)("")),X=Object(l.a)(W,2),Z=X[0],$=X[1],ee=Object(r.useState)(0),ae=Object(l.a)(ee,2),te=ae[0],ne=ae[1],le=Object(r.useState)([]),re=Object(l.a)(le,2),ce=re[0],oe=re[1],ue=Object(r.useState)([]),ie=Object(l.a)(ue,2),se=ie[0],me=(ie[1],Object(r.useState)("")),de=Object(l.a)(me,2),ve=de[0],pe=de[1],ge=Object(r.useState)(""),Ee=Object(l.a)(ge,2),fe=Ee[0],be=Ee[1],he=Object(r.useState)(""),Oe=Object(l.a)(he,2),je=Oe[0],Se=Oe[1],ye=Object(r.useState)(""),Ne=Object(l.a)(ye,2),we=Ne[0],Ce=Ne[1],xe=Object(r.useState)(""),De=Object(l.a)(xe,2),qe=De[0],_e=De[1],Re=Object(r.useState)(""),Fe=Object(l.a)(Re,2),Ae=Fe[0],Pe=Fe[1],ke=Object(r.useState)([]),Ue=Object(l.a)(ke,2),Je=Ue[0],Le=Ue[1],Me=Object(r.useState)(""),Ve=Object(l.a)(Me,2),Ye=(Ve[0],Ve[1],Object(r.useState)("")),Ie=Object(l.a)(Ye,2),ze=Ie[0],Be=Ie[1];Object(O.g)();Object(r.useEffect)((function(){var e,a=JSON.parse(localStorage.getItem("userData")),n=null===a||void 0===a||null===(e=a.role)||void 0===e?void 0:e.find((function(e){return"Create Account"===(null===e||void 0===e?void 0:e.pageName)}));t(null===n||void 0===n?void 0:n.permission.includes("View")),D(null===n||void 0===n?void 0:n.permission.includes("Create")),N(null===n||void 0===n?void 0:n.permission.includes("Edit")),R(null===n||void 0===n?void 0:n.permission.includes("Delete"));var l=new FormData;l.append("user_id",null===a||void 0===a?void 0:a.Userinfo.id),l.append("role",null===a||void 0===a?void 0:a.Userinfo.role),f.a.post("/getrolelistdropdown",l).then((function(e){var a;console.log(null===e||void 0===e?void 0:e.data.data),Le(null===e||void 0===e||null===(a=e.data.data)||void 0===a?void 0:a.roles)})).catch((function(e){console.log(e)})),f.a.get("/getallstates").then((function(e){var a;M(null===(a=e.data)||void 0===a?void 0:a.states)})).catch((function(e){console.log(e.response.data)}))}),[]),console.log(we);return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(o.a,null,c.a.createElement(u.a,{className:"m-2"},c.a.createElement(i.a,null,c.a.createElement("h1",{className:"float-left"},"Add here"))),c.a.createElement("div",{className:"container "}),c.a.createElement(s.a,null,c.a.createElement(m.a,{className:"m-1",onSubmit:function(e){var a;e.preventDefault();var t=JSON.parse(localStorage.getItem("userData")),l=Object(n.a)(new Set(y)),r=Object(n.a)(new Set(se)),c=new FormData;c.append("user_id",null===t||void 0===t||null===(a=t.Userinfo)||void 0===a?void 0:a.id),c.append("select_role",we),c.append("firstname",P),c.append("lastname",ze),c.append("username",Ae),c.append("password",ve),c.append("mobile",Z),c.append("email",fe),c.append("status",je),c.append("postal_code",qe),te&&c.append("franchise_percentage",te),r.length>0?c.append("state_id",ce.toString()):c.append("state_id",T),c.append("city_id",l),f.a.post("/createuser",c).then((function(e){var a;console.log(e),(null===e||void 0===e?void 0:e.data.status)||S()("error","The Username and Email field must contain a unique value"),(null===(a=e.data)||void 0===a?void 0:a.success)&&(S()("Success!","Submitted SuccessFull!","success"),Ce(""),k(""),Be(""),be(""),$(""),Se(""),Pe(""),_e(""),G([]),pe(""))})).catch((function(e){var a,t;if(console.log(e),console.log(e.response),(null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.data).length>0){var n,l,r,c=null===(n=e.response)||void 0===n||null===(l=n.data)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.map((function(e){return e}));if(void 0!==c){var o=null===c||void 0===c?void 0:c.flat();S()("Error","".concat(o," Existing in DataBase Choose Different "))}}}))}},c.a.createElement(u.a,{className:"mb-2"},c.a.createElement(i.a,{lg:"6",md:"6"},c.a.createElement(d.a,null,c.a.createElement(v.a,null," Select Role*"),c.a.createElement(p.a,{required:!0,id:"AssignRole",type:"select",name:"AssignRole",value:we,onChange:function(e){return Ce(e.target.value)}},c.a.createElement("option",{value:""},"--Select Role--"),Je&&(null===Je||void 0===Je?void 0:Je.map((function(e,a){return c.a.createElement("option",{key:a,value:null===e||void 0===e?void 0:e.id},null===e||void 0===e?void 0:e.role)})))))),c.a.createElement(i.a,{lg:"6",md:"6",sm:"12"},c.a.createElement(d.a,null,c.a.createElement(v.a,null,"First Name *"),c.a.createElement(g.a,{required:!0,type:"text",placeholder:"Enter Your Name",name:"firstname",value:P,onChange:function(e){return k(e.target.value)}}))),c.a.createElement(i.a,{lg:"6",md:"6",sm:"12"},c.a.createElement(d.a,null,c.a.createElement(v.a,null,"Last Name *"),c.a.createElement(g.a,{required:!0,type:"text",placeholder:"Enter Your Name",name:"lastname",value:ze,onChange:function(e){return Be(e.target.value)}}))),c.a.createElement(i.a,{lg:"6",md:"6"},c.a.createElement(d.a,null,c.a.createElement(v.a,null,"UserName *"),c.a.createElement(g.a,{required:!0,type:"text",placeholder:"Enter Your Name",name:"UserName",value:Ae,onChange:function(e){return Pe(e.target.value)}}))),c.a.createElement(i.a,{lg:"6",md:"6"},c.a.createElement(d.a,null,c.a.createElement(v.a,null,"Mobile Number *"),c.a.createElement(g.a,{required:!0,type:"text",maxLength:12,onKeyDown:function(e){return["e","E","+","-"].includes(e.key)&&e.preventDefault()},size:10,min:0,placeholder:"+910000000000",name:"Mobile_no",value:Z,onChange:function(e){var a=e.target.value.replace(/\D/g,"");$(a)}}))),c.a.createElement(i.a,{lg:"6",md:"6"},c.a.createElement(d.a,null,c.a.createElement(v.a,null,"Email *"),c.a.createElement(g.a,{required:!0,type:"email",placeholder:"abcd@gmail.com...",name:"email",value:fe,onChange:function(e){return be(e.target.value)}}))),c.a.createElement(i.a,{lg:"6",md:"6"},c.a.createElement(d.a,null,c.a.createElement(v.a,null,"Password"),c.a.createElement(g.a,{required:!0,type:"password",placeholder:"Enter password",name:"password",value:ve,onChange:function(e){return pe(e.target.value)}}))),c.a.createElement(i.a,{lg:"6",md:"6"},c.a.createElement(d.a,null,c.a.createElement(u.a,null),c.a.createElement(v.a,{for:"cars"}," State *"),"supplier"===we?c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,{required:!0,showCheckbox:"true",isObject:"false",options:L,onSelect:function(e,a){if(e.length)for(var t=0;t<e.length;t++)se.push(e[t].id);var l=e.map((function(e){return e.id}));oe(l);var r=Object(n.a)(new Set(se));if(1===r.length){var c=r[0],o=new FormData;o.append("state_id",c),f.a.post("/getcity",o).then((function(e){var a;z(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.cities)})).catch((function(e){console.log(e)}))}else z([])},onRemove:function(e,a){var t=e.map((function(e){return e.id}));oe(t)},displayValue:"state_title"})):c.a.createElement(c.a.Fragment,null,c.a.createElement("select",{required:!0,name:"SelectedState",value:T,onChange:function(e){var a=new FormData;G(e.target.value),a.append("state_id",e.target.value),f.a.post("/getcity",a).then((function(e){var a;z(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.cities)})).catch((function(e){console.log(e)}))},className:"form-control"},c.a.createElement("option",{value:"volvo"},"--Select State--"),L&&(null===L||void 0===L?void 0:L.map((function(e,a){return c.a.createElement("option",{key:a,value:null===e||void 0===e?void 0:e.id},null===e||void 0===e?void 0:e.state_title)}))))))),c.a.createElement(i.a,{lg:"6",md:"6"},c.a.createElement(v.a,null,"City*"),c.a.createElement(h.a,{required:!0,selectionLimit:1,options:I,onSelect:function(e,a){if(console.log(e),e.length)for(var t=0;t<e.length;t++)y.push(e[t].id)},onRemove:function(e,a){console.log(e),console.log(a)},displayValue:"name"})),5==we?c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{lg:"6",md:"6"},c.a.createElement(d.a,null,c.a.createElement(v.a,null,"Commision Percentage"),c.a.createElement(g.a,{required:!0,type:"text",placeholder:"Enter Discount Percentage",name:"DiscoutPercentage",value:te,onChange:function(e){var a=e.target.value.replace(/[^0-9]/g,"").slice(0,2);ne(a)}})))):null,c.a.createElement(i.a,{lg:"6",md:"6"},c.a.createElement(d.a,null,c.a.createElement(v.a,null,"Postal Code",c.a.createElement("span",{style:{color:"red"}}," ","(Add Multiple Pincode with comma seprated)")),c.a.createElement("textarea",{required:!0,type:"text",className:"form-control",placeholder:"Enter Postal code",name:"postalcode",value:qe,onChange:function(e){var a=e.target.value.replace(/[^\d,]/g,"");_e(a)}})))),c.a.createElement("hr",null),c.a.createElement(u.a,{className:"mt-2"},c.a.createElement(i.a,{lg:"6",md:"6",sm:"6",className:"mb-2"},c.a.createElement(v.a,{className:""},c.a.createElement("h4",null,"Status")),c.a.createElement("div",{className:"form-label-group",onChange:function(e){return Se(e.target.value)}},c.a.createElement("input",{style:{marginRight:"3px"},type:"radio",name:"status",value:"Active"}),c.a.createElement("span",{style:{marginRight:"20px"}},"Active"),c.a.createElement("input",{style:{marginRight:"3px"},type:"radio",name:"status",value:"Deactive"}),c.a.createElement("span",{style:{marginRight:"3px"}},"Deactive")))),x&&x&&c.a.createElement(u.a,null,c.a.createElement(E.a.Ripple,{color:"primary",type:"submit",className:"mr-1 mt-2 mx-2"},"Submit")))))))}},869:function(e,a){},955:function(e,a,t){}}]);
//# sourceMappingURL=252.3e5f0be4.chunk.js.map