(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[218],{2490:function(e,a,t){"use strict";t.r(a);t(31);var n=t(48),l=t(1),r=t.n(l),c=(t(847),t(820)),o=t(818),u=t(819),i=t(196),m=t(823),s=t(842),d=t(866),v=t(841),p=t(836),E=t(808),b=(t(22),t(188)),g=t(915),f=t(975),O=t.n(f),j=t(63),h=t(840),S=t.n(h),y=(t(954),t(1088),[]);a.default=function(){var e=Object(l.useState)(null),a=Object(n.a)(e,2),t=(a[0],a[1]),f=Object(l.useState)(null),h=Object(n.a)(f,2),C=(h[0],h[1]),N=Object(l.useState)(null),w=Object(n.a)(N,2),q=(w[0],w[1]),x=Object(l.useState)(null),D=Object(n.a)(x,2),_=(D[0],D[1]),k=Object(l.useState)(""),U=Object(n.a)(k,2),P=U[0],F=U[1],L=Object(l.useState)(""),J=Object(n.a)(L,2),R=J[0],A=J[1],B=Object(l.useState)(""),M=Object(n.a)(B,2),Y=M[0],I=M[1],V=Object(l.useState)([]),z=Object(n.a)(V,2),K=z[0],T=z[1],G=Object(l.useState)([]),H=Object(n.a)(G,2),Q=H[0],W=H[1],X=Object(l.useState)(""),Z=Object(n.a)(X,2),$=Z[0],ee=Z[1],ae=Object(l.useState)(""),te=Object(n.a)(ae,2),ne=(te[0],te[1],Object(l.useState)("")),le=Object(n.a)(ne,2),re=le[0],ce=le[1],oe=Object(l.useState)(0),ue=Object(n.a)(oe,2),ie=(ue[0],ue[1],Object(l.useState)([])),me=Object(n.a)(ie,2),se=(me[0],me[1],Object(l.useState)([])),de=Object(n.a)(se,2),ve=(de[0],de[1],Object(l.useState)("")),pe=Object(n.a)(ve,2),Ee=pe[0],be=pe[1],ge=Object(l.useState)(""),fe=Object(n.a)(ge,2),Oe=fe[0],je=fe[1],he=Object(l.useState)(""),Se=Object(n.a)(he,2),ye=(Se[0],Se[1]),Ce=Object(l.useState)(""),Ne=Object(n.a)(Ce,2),we=(Ne[0],Ne[1]),qe=Object(l.useState)(""),xe=Object(n.a)(qe,2),De=xe[0],_e=xe[1],ke=Object(l.useState)(""),Ue=Object(n.a)(ke,2),Pe=Ue[0],Fe=Ue[1],Le=Object(l.useState)([]),Je=Object(n.a)(Le,2),Re=(Je[0],Je[1]),Ae=Object(l.useState)(""),Be=Object(n.a)(Ae,2),Me=(Be[0],Be[1],Object(l.useState)("")),Ye=Object(n.a)(Me,2),Ie=Ye[0],Ve=Ye[1],ze=Object(j.g)();Object(l.useEffect)((function(){var e,a=JSON.parse(localStorage.getItem("userData")),n=null===a||void 0===a||null===(e=a.role)||void 0===e?void 0:e.find((function(e){return"Create Account"===(null===e||void 0===e?void 0:e.pageName)}));t(null===n||void 0===n?void 0:n.permission.includes("View")),q(null===n||void 0===n?void 0:n.permission.includes("Create")),C(null===n||void 0===n?void 0:n.permission.includes("Edit")),_(null===n||void 0===n?void 0:n.permission.includes("Delete"));var l=new FormData;l.append("user_id",null===a||void 0===a?void 0:a.Userinfo.id),l.append("role",null===a||void 0===a?void 0:a.Userinfo.role),b.a.post("/getrolelistdropdown",l).then((function(e){var a;console.log(null===e||void 0===e?void 0:e.data.data),Re(null===e||void 0===e||null===(a=e.data.data)||void 0===a?void 0:a.roles)})).catch((function(e){console.log(e)})),b.a.get("/getallstates").then((function(e){var a;T(null===(a=e.data)||void 0===a?void 0:a.states)})).catch((function(e){console.log(e.response.data)}))}),[]);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,null,r.a.createElement(o.a,{className:"m-2"},r.a.createElement(u.a,null,r.a.createElement("h1",{className:"float-left"},"Add Lead")),r.a.createElement(u.a,null,r.a.createElement(j.b,{render:function(e){var a=e.history;return r.a.createElement(i.a,{className:"float-right mt-2",color:"warning",onClick:function(){return a.goBack()}},"Back")}}))),r.a.createElement("div",{className:"container "}),r.a.createElement(m.a,null,r.a.createElement(s.a,{className:"m-1",onSubmit:function(e){var a,t;e.preventDefault();var n=JSON.parse(localStorage.getItem("userData")),l=new FormData;l.append("user_id",null===n||void 0===n||null===(a=n.Userinfo)||void 0===a?void 0:a.id),l.append("role",null===n||void 0===n||null===(t=n.Userinfo)||void 0===t?void 0:t.role),l.append("firstname",P),l.append("lastname",Ie),l.append("username",Pe),l.append("password",Ee),l.append("phone",re),l.append("state_id",$),l.append("city_id",y[0]),l.append("email",Oe),l.append("postal_code",De),l.append("payment_mode",R),l.append("payment_detail",Y),g.a.post("/addcrmlead",l).then((function(e){var a;console.log(e),(null===e||void 0===e?void 0:e.data.status)||S()("error","The Username and Email field must contain a unique value"),(null===(a=e.data)||void 0===a?void 0:a.success)&&(ze.goBack(),S()("Success!","Submitted SuccessFull!","success"),we(""),F(""),Ve(""),je(""),ce(""),ye(""),Fe(""),_e(""),ee(""),be(""))})).catch((function(e){console.log(e)}))}},r.a.createElement(o.a,{className:"mb-2"},r.a.createElement(u.a,{lg:"6",md:"6",sm:"12"},r.a.createElement(d.a,null,r.a.createElement(v.a,null,"First Name *"),r.a.createElement(p.a,{required:!0,type:"text",placeholder:"Enter Your Name",name:"firstname",value:P,onChange:function(e){return F(e.target.value)}}))),r.a.createElement(u.a,{lg:"6",md:"6",sm:"12"},r.a.createElement(d.a,null,r.a.createElement(v.a,null,"Last Name *"),r.a.createElement(p.a,{required:!0,type:"text",placeholder:"Enter Your Name",name:"lastname",value:Ie,onChange:function(e){return Ve(e.target.value)}}))),r.a.createElement(u.a,{lg:"6",md:"6"},r.a.createElement(d.a,null,r.a.createElement(v.a,null,"UserName *"),r.a.createElement(p.a,{required:!0,type:"text",placeholder:"Enter Your Name",name:"UserName",value:Pe,onChange:function(e){return Fe(e.target.value)}}))),r.a.createElement(u.a,{lg:"6",md:"6"},r.a.createElement(d.a,null,r.a.createElement(v.a,null,"Mobile Number *"),r.a.createElement(p.a,{required:!0,type:"text",maxLength:12,onKeyDown:function(e){return["e","E","+","-"].includes(e.key)&&e.preventDefault()},size:10,min:0,placeholder:"+910000000000",name:"Mobile_no",value:re,onChange:function(e){var a=e.target.value.replace(/\D/g,"");ce(a)}}))),r.a.createElement(u.a,{lg:"6",md:"6"},r.a.createElement(d.a,null,r.a.createElement(v.a,null,"Email *"),r.a.createElement(p.a,{required:!0,type:"email",placeholder:"abcd@gmail.com...",name:"email",value:Oe,onChange:function(e){return je(e.target.value)}}))),r.a.createElement(u.a,{lg:"6",md:"6"},r.a.createElement(d.a,null,r.a.createElement(v.a,null,"Password *"),r.a.createElement(p.a,{required:!0,type:"password",placeholder:"Enter password",name:"password",value:Ee,onChange:function(e){return be(e.target.value)}}))),r.a.createElement(u.a,{lg:"6",md:"6"},r.a.createElement(d.a,null,r.a.createElement(v.a,{for:"cars"}," State *"),r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{required:!0,name:"SelectedState",value:$,onChange:function(e){var a=new FormData;ee(e.target.value),a.append("state_id",e.target.value),b.a.post("/getcity",a).then((function(e){var a;W(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.cities)})).catch((function(e){console.log(e)}))},className:"form-control"},r.a.createElement("option",{value:"volvo"},"--Select State--"),K&&(null===K||void 0===K?void 0:K.map((function(e,a){return r.a.createElement("option",{key:a,value:null===e||void 0===e?void 0:e.id},null===e||void 0===e?void 0:e.state_title)}))))))),r.a.createElement(u.a,{lg:"6",md:"6"},r.a.createElement(v.a,null,"City*"),r.a.createElement(O.a,{required:!0,selectionLimit:1,options:Q,onSelect:function(e,a){if(console.log(e),y=[],e.length)for(var t=0;t<e.length;t++)y.push(e[t].id)},onRemove:function(e,a){console.log(e),console.log(a)},displayValue:"name"})),r.a.createElement(u.a,{lg:"6",md:"6"},r.a.createElement(d.a,null,r.a.createElement(v.a,null,"Postal Code"),r.a.createElement("textarea",{required:!0,type:"text",className:"form-control",placeholder:"Enter Postal code",name:"postalcode",value:De,onChange:function(e){var a=e.target.value.replace(/[^\d,]/g,"");_e(a)}}))),r.a.createElement(u.a,{lg:"6",md:"6"},r.a.createElement(d.a,null,r.a.createElement(v.a,null," Payment Mode*"),r.a.createElement(E.a,{required:!0,id:"Paymentmode",type:"select",name:"Paymentmode",value:R,onChange:function(e){return A(e.target.value)}},r.a.createElement("option",{value:""},"--Select Role--"),r.a.createElement("option",{value:"Cash"},"Cash"),r.a.createElement("option",{value:"Cheque"},"Cheque")))),r.a.createElement(u.a,{lg:"6",md:"6"},r.a.createElement(d.a,null,r.a.createElement(v.a,null,"Details"),r.a.createElement("textarea",{className:"form-control",required:!0,type:"text",placeholder:"Enter Details",name:"Paymentdetails",value:Y,onChange:function(e){return I(e.target.value)}})))),r.a.createElement("hr",null),r.a.createElement(o.a,null,r.a.createElement(i.a.Ripple,{color:"primary",type:"submit",className:"mr-1 mt-2 mx-2"},"Submit")))))))}},861:function(e,a){},915:function(e,a,t){"use strict";var n=t(40),l=t.n(n).a.create({baseURL:"https://website.mmbaic.com/api/ApiCommonController1/"});a.a=l},954:function(e,a,t){}}]);
//# sourceMappingURL=218.2aa0daf8.chunk.js.map